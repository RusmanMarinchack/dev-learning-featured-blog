{{ "newsletter-popup.css" | asset_url | stylesheet_tag }}

<script src="{{ "newsletter-popup.js" | asset_url }}" defer="defer"></script>

{% assign image_desktop = settings.image_desktop %}
{% assign image_mobile = settings.image_mobile | image_desktop %}

{%- if settings.enable -%}
    <div class="newsletter-popup shadow _close" id="newsletter-popup-{{ section.id }}">
        <div class="newsletter-popup__wrapper">
            <button class="newsletter-popup__close _close">
                <img class="newsletter-popup__close-icon" src="{{ "close.svg" | asset_url }}" alt="Icon">
            </button>

            {%- if image_desktop -%}
                <div class="newsletter-popup__box-image">
                    <picture>
                        <source media="(max-width: 991.98px)" srcset="{{ image_mobile | image_url: width: 504 }} 1x, {{ image_mobile | image_url: width: 1008 }} 2x">
                        <img src="{{ image_desktop | image_url: width: 504 }}" srcset="{{ image_desktop | image_url: width: 504 }} 1x, {{ image_desktop | image_url: width: 1008 }} 2x" alt="{{ image_desktop.alt }}" class="newsletter-popup__image">
                    </picture>
                </div>
            {%- endif -%}

            <div class="newsletter-popup__box-content">
                <div class="newsletter-popup__content">

                    {% if settings.heading %}
                        <h4 class="newsletter-popup__content-title">{{ settings.heading }}</h4>
                    {% endif %}

                    {% if settings.textarea %}
                        <div class="newsletter-popup__content-text">{{ settings.textarea }}</div>
                    {% endif %}

                    {% form 'customer', class: 'newsletter-popup__form' %}
                        <div class="newsletter-popup__form-email">
                            <label class="newsletter-popup__form-label" for="email">{{ settings.input_label }}</label>
                            <input class="newsletter-popup__form-input" type="email" name="contact[email]" placeholder="{{ settings.input_placeholder }}" />
                        </div>
                        <div class="newsletter-popup__box-submit">
                            <input class="newsletter-popup__submit" type="submit" value="{{ settings.button_submit_label }}" />
                        </div>
                        <div class="newsletter-popup__content-links">
                            <a href="#" class="newsletter-popup__content-link">{{ settings.button_close_label }}</a>
                        </div>
                    {% endform %}

                </div>
            </div>
        </div>
    </div>
{%- endif -%}