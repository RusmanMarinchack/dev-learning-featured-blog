{{ "banner.css" | asset_url | stylesheet_tag }}

<script src="{{ "banner.js" | asset_url }}" defer="defer"></script>

{% assign section_settings = section.settings %}
{% assign video_desktop = section_settings.video_desktop %}
{% assign image_desktop = section_settings.image_desktop %}
{% assign video_mob = section_settings.video_mobile | default: video_desktop %}
{% assign image_mob = section_settings.image_mobile | default: image_desktop %}

{%- capture styles -%}
    --desktop-min-height: {{- section_settings.desktop_banner_min_height -}}px;
    --mob-min-height: {{- section_settings.mobile_banner_min_height -}}px;
    --text-color: {{ section_settings.text_color }};
    --button_bg: {{ section_settings.button_bg }};
    --button_text_color_hover: {{ section_settings.button_text_color_hover }};
    --button_bg_hover: {{ section_settings.button_bg_hover }};
{%- endcapture -%}

<section class="banner" style="{{- styles -}}" id="banner-{{ section.id }}">
    <div class="banner__wrapper">

      {%- if section_settings.media_type == "video" -%}
        {{- video_mob | video_tag: class: "banner__bg video mob", autoplay: true, loop: true -}}
        {{- video_desktop | video_tag: class: "banner__bg video ", autoplay: true, loop: true -}}
      {%- else -%}
        {% if image_mob %}
          <picture>
            <source media="(max-width: 767.98px)" srcset="{{- image_mob | image_url: width: 736 -}} 1x, {{- image_mob | image_url: width: 1472 -}} 2x">
            <img class="banner__bg" src="{{- image_desktop | image_url: width: 1648 -}}" srcset="{{- image_desktop | image_url: width: 1616 -}} 1x, {{- image_desktop | image_url: width: 3360 -}} 2x" alt="{{- image_desktop.alt -}}">
          </picture>
        {%- else -%}
          {{- "image" | placeholder_svg_tag: "banner__bg" -}}
        {%- endif -%}
      {%- endif -%}

      {%- if section_settings.heading -%}
        <h1 class="banner__title" style="color: {{- section_settings.text_color -}};">{{- section_settings.heading -}}</h1>
      {%- endif -%}

      {%- if section_settings.text -%}
        <div class="banner__subtext" style="color: {{- section_settings.text_color -}};">{{- section_settings.text -}}</div>
      {%- endif -%}

      {%- if section_settings.button_link -%}
        <div class="banner__box-link">
          <a href="{{- section_settings.button_link -}}" class="banner__link">{{- section_settings.button_label -}}</a>
        </div>
      {%- endif -%}

    </div>
    <div class="banner__overlay" {%- if section_settings.overlay -%}style="background: {{- section_settings.overlay -}};" {%- endif -%}></div>
</section>

{% schema %}
  {
    "name": "Banner",
    "settings": [
      {
        "type": "select",
        "id": "desktop_banner_min_height",
        "label": "Desktop banner min height",
        "options": [
          {
            "value": "200",
            "label": "200"
          },
          {
            "value": "250",
            "label": "250"
          },
          {
            "value": "300",
            "label": "300"
          },
          {
            "value": "350",
            "label": "350"
          },
          {
            "value": "400",
            "label": "400"
          },
          {
            "value": "450",
            "label": "450"
          },
          {
            "value": "500",
            "label": "500"
          },
          {
            "value": "550",
            "label": "550"
          },
          {
            "value": "600",
            "label": "600"
          },
          {
            "value": "650",
            "label": "650"
          },
          {
            "value": "700",
            "label": "700"
          },
          {
            "value": "750",
            "label": "750"
          },
          {
            "value": "800",
            "label": "800"
          }
        ],
        "default": "400"
      },
      {
        "type": "select",
        "id": "mobile_banner_min_height",
        "label": "Mobile banner min height",
        "options": [
          {
            "value": "200",
            "label": "200"
          },
          {
            "value": "250",
            "label": "250"
          },
          {
            "value": "300",
            "label": "300"
          },
          {
            "value": "350",
            "label": "350"
          },
          {
            "value": "400",
            "label": "400"
          },
          {
            "value": "450",
            "label": "450"
          },
          {
            "value": "500",
            "label": "500"
          },
          {
            "value": "550",
            "label": "550"
          },
          {
            "value": "600",
            "label": "600"
          },
          {
            "value": "650",
            "label": "650"
          },
          {
            "value": "700",
            "label": "700"
          },
          {
            "value": "750",
            "label": "750"
          },
          {
            "value": "800",
            "label": "800"
          }
        ],
        "default": "400"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Satisfy your top obsession with the range of new arrivals"
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text"
      },
      {
        "type": "text",
        "id": "button_label",
        "label": "Button label",
        "default": "Shop Now"
      },
      {
        "type": "url",
        "id": "button_link",
        "label": "Button link"
      },
      {
        "type": "header",
        "content": "Media"
      },
      {
        "type": "select",
        "id": "media_type",
        "label": "Media type",
        "options": [
          {
            "value": "image",
            "label": "Image"
          },
          {
            "value": "video",
            "label": "HTML5 video"
          }
        ],
        "default": "image"
      },
      {
        "type": "image_picker",
        "id": "image_desktop",
        "label": "Image desktop"
      },
      {
        "type": "image_picker",
        "id": "image_mobile",
        "label": "Image mobile"
      },
      {
        "type": "video",
        "id": "video_desktop",
        "label": "Video desktop"
      },
      {
        "type": "video",
        "id": "video_mobile",
        "label": "Video mobile"
      },
      {
        "type": "header",
        "content": "Colors"
      },
      {
        "type": "color_background",
        "id": "overlay",
        "label": "Overlay",
        "default": "linear-gradient(180deg, rgba(255, 255, 255, 0), rgba(0, 0, 0, 1) 100%)"
      },
      {
        "type": "color",
        "id": "text_color",
        "label": "Text color",
        "default": "#ffffff"
      },
      {
        "type": "color",
        "id": "button_text_color",
        "label": "Button text color",
        "default": "#000000"
      },
      {
        "type": "color_background",
        "id": "button_bg",
        "label": "button_background",
        "default": "#ffffff"
      },
      {
        "type": "color",
        "id": "button_text_color_hover",
        "label": "Button text color hover",
        "default": "#000000"
      },
      {
        "type": "color_background",
        "id": "button_bg_hover",
        "label": "button background hover",
        "default": "linear-gradient(#ffffff, #000000)"
      }
    ],
    "presets": [
      {
        "name": "Banner"
      }
    ]
  }
{% endschema %}